import{r as Jt,a as Vt,g as Yt,u as Gt,b as D,L as re,B as Xt,c as Zt,d as oe,N as Qt}from"./react-vendor-DgL_CUfK.js";import{F as A,f as es,a as Ue,b as ts,c as ss,d as ns,e as rs,g as ee,h as mt,i as os,j as Pe,k as gt,l as yt,m as bt,n as xt,o as jt,p as He,q as Ke,r as St}from"./icons-C63SSKMW.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();var Te={exports:{}},ie={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We;function is(){if(We)return ie;We=1;var e=Jt(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,y,g){var d,j={},w=null,C=null;g!==void 0&&(w=""+g),y.key!==void 0&&(w=""+y.key),y.ref!==void 0&&(C=y.ref);for(d in y)n.call(y,d)&&!i.hasOwnProperty(d)&&(j[d]=y[d]);if(c&&c.defaultProps)for(d in y=c.defaultProps,y)j[d]===void 0&&(j[d]=y[d]);return{$$typeof:t,type:c,key:w,ref:C,props:j,_owner:o.current}}return ie.Fragment=s,ie.jsx=a,ie.jsxs=a,ie}var Je;function as(){return Je||(Je=1,Te.exports=is()),Te.exports}var r=as(),he={},Ve;function ls(){if(Ve)return he;Ve=1;var e=Vt();return he.createRoot=e.createRoot,he.hydrateRoot=e.hydrateRoot,he}var cs=ls();const ds=Yt(cs),us=({children:e})=>{const t=Gt(),[s,n]=D.useState(!1);return r.jsxs("div",{className:"app-container",children:[r.jsxs("aside",{className:`sidebar ${s?"collapsed":""}`,children:[r.jsxs("div",{className:"sidebar-header",children:[r.jsx(re,{to:"/",className:"sidebar-logo",children:!s&&"Cleanarr"}),r.jsx("button",{className:"sidebar-toggle",onClick:()=>n(!s),title:s?"Expand sidebar":"Collapse sidebar",children:r.jsx(A,{icon:s?es:Ue})})]}),r.jsxs("nav",{className:"sidebar-nav",children:[r.jsxs(re,{to:"/movies",className:`sidebar-item ${t.pathname==="/movies"?"active":""}`,title:"Movies",children:[r.jsx(A,{icon:ts}),!s&&r.jsx("span",{children:"Movies"})]}),r.jsxs(re,{to:"/series",className:`sidebar-item ${t.pathname==="/series"?"active":""}`,title:"Series",children:[r.jsx(A,{icon:ss}),!s&&r.jsx("span",{children:"Series"})]}),r.jsxs(re,{to:"/suggestions",className:`sidebar-item ${t.pathname==="/suggestions"?"active":""}`,title:"Suggestion Rules",children:[r.jsx(A,{icon:ns}),!s&&r.jsx("span",{children:"Rules"})]}),r.jsxs(re,{to:"/settings",className:`sidebar-item ${t.pathname==="/settings"?"active":""}`,title:"Settings",children:[r.jsx(A,{icon:rs}),!s&&r.jsx("span",{children:"Settings"})]})]})]}),r.jsx("main",{className:`main-content ${s?"sidebar-collapsed":""}`,children:e})]})};function wt(e,t){return function(){return e.apply(t,arguments)}}const{toString:fs}=Object.prototype,{getPrototypeOf:qe}=Object,{iterator:je,toStringTag:Nt}=Symbol,Se=(e=>t=>{const s=fs.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),H=e=>(e=e.toLowerCase(),t=>Se(t)===e),we=e=>t=>typeof t===e,{isArray:se}=Array,te=we("undefined");function le(e){return e!==null&&!te(e)&&e.constructor!==null&&!te(e.constructor)&&$(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Et=H("ArrayBuffer");function hs(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Et(e.buffer),t}const ps=we("string"),$=we("function"),Rt=we("number"),ce=e=>e!==null&&typeof e=="object",ms=e=>e===!0||e===!1,me=e=>{if(Se(e)!=="object")return!1;const t=qe(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Nt in e)&&!(je in e)},gs=e=>{if(!ce(e)||le(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ys=H("Date"),bs=H("File"),xs=H("Blob"),js=H("FileList"),Ss=e=>ce(e)&&$(e.pipe),ws=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||$(e.append)&&((t=Se(e))==="formdata"||t==="object"&&$(e.toString)&&e.toString()==="[object FormData]"))},Ns=H("URLSearchParams"),[Es,Rs,Ts,vs]=["ReadableStream","Request","Response","Headers"].map(H),Cs=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function de(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),se(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(le(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let c;for(n=0;n<a;n++)c=i[n],t.call(null,e[c],c,e)}}function Tt(e,t){if(le(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,o;for(;n-- >0;)if(o=s[n],t===o.toLowerCase())return o;return null}const Y=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vt=e=>!te(e)&&e!==Y;function Be(){const{caseless:e,skipUndefined:t}=vt(this)&&this||{},s={},n=(o,i)=>{const a=e&&Tt(s,i)||i;me(s[a])&&me(o)?s[a]=Be(s[a],o):me(o)?s[a]=Be({},o):se(o)?s[a]=o.slice():(!t||!te(o))&&(s[a]=o)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&de(arguments[o],n);return s}const Os=(e,t,s,{allOwnKeys:n}={})=>(de(t,(o,i)=>{s&&$(o)?e[i]=wt(o,s):e[i]=o},{allOwnKeys:n}),e),As=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ds=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},ks=(e,t,s,n)=>{let o,i,a;const c={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!n||n(a,e,t))&&!c[a]&&(t[a]=e[a],c[a]=!0);e=s!==!1&&qe(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Ps=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},Bs=e=>{if(!e)return null;if(se(e))return e;let t=e.length;if(!Rt(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},_s=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qe(Uint8Array)),Ls=(e,t)=>{const n=(e&&e[je]).call(e);let o;for(;(o=n.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},Fs=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},Us=H("HTMLFormElement"),qs=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,o){return n.toUpperCase()+o}),Ye=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Is=H("RegExp"),Ct=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};de(s,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(n[i]=a||o)}),Object.defineProperties(e,n)},Ms=e=>{Ct(e,(t,s)=>{if($(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if($(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},$s=(e,t)=>{const s={},n=o=>{o.forEach(i=>{s[i]=!0})};return se(e)?n(e):n(String(e).split(t)),s},zs=()=>{},Hs=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ks(e){return!!(e&&$(e.append)&&e[Nt]==="FormData"&&e[je])}const Ws=e=>{const t=new Array(10),s=(n,o)=>{if(ce(n)){if(t.indexOf(n)>=0)return;if(le(n))return n;if(!("toJSON"in n)){t[o]=n;const i=se(n)?[]:{};return de(n,(a,c)=>{const y=s(a,o+1);!te(y)&&(i[c]=y)}),t[o]=void 0,i}}return n};return s(e,0)},Js=H("AsyncFunction"),Vs=e=>e&&(ce(e)||$(e))&&$(e.then)&&$(e.catch),Ot=((e,t)=>e?setImmediate:t?((s,n)=>(Y.addEventListener("message",({source:o,data:i})=>{o===Y&&i===s&&n.length&&n.shift()()},!1),o=>{n.push(o),Y.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",$(Y.postMessage)),Ys=typeof queueMicrotask<"u"?queueMicrotask.bind(Y):typeof process<"u"&&process.nextTick||Ot,Gs=e=>e!=null&&$(e[je]),l={isArray:se,isArrayBuffer:Et,isBuffer:le,isFormData:ws,isArrayBufferView:hs,isString:ps,isNumber:Rt,isBoolean:ms,isObject:ce,isPlainObject:me,isEmptyObject:gs,isReadableStream:Es,isRequest:Rs,isResponse:Ts,isHeaders:vs,isUndefined:te,isDate:ys,isFile:bs,isBlob:xs,isRegExp:Is,isFunction:$,isStream:Ss,isURLSearchParams:Ns,isTypedArray:_s,isFileList:js,forEach:de,merge:Be,extend:Os,trim:Cs,stripBOM:As,inherits:Ds,toFlatObject:ks,kindOf:Se,kindOfTest:H,endsWith:Ps,toArray:Bs,forEachEntry:Ls,matchAll:Fs,isHTMLForm:Us,hasOwnProperty:Ye,hasOwnProp:Ye,reduceDescriptors:Ct,freezeMethods:Ms,toObjectSet:$s,toCamelCase:qs,noop:zs,toFiniteNumber:Hs,findKey:Tt,global:Y,isContextDefined:vt,isSpecCompliantForm:Ks,toJSONObject:Ws,isAsyncFn:Js,isThenable:Vs,setImmediate:Ot,asap:Ys,isIterable:Gs};function R(e,t,s,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}l.inherits(R,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:l.toJSONObject(this.config),code:this.code,status:this.status}}});const At=R.prototype,Dt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Dt[e]={value:e}});Object.defineProperties(R,Dt);Object.defineProperty(At,"isAxiosError",{value:!0});R.from=(e,t,s,n,o,i)=>{const a=Object.create(At);l.toFlatObject(e,a,function(d){return d!==Error.prototype},g=>g!=="isAxiosError");const c=e&&e.message?e.message:"Error",y=t==null&&e?e.code:t;return R.call(a,c,y,s,n,o),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const Xs=null;function _e(e){return l.isPlainObject(e)||l.isArray(e)}function kt(e){return l.endsWith(e,"[]")?e.slice(0,-2):e}function Ge(e,t,s){return e?e.concat(t).map(function(o,i){return o=kt(o),!s&&i?"["+o+"]":o}).join(s?".":""):t}function Zs(e){return l.isArray(e)&&!e.some(_e)}const Qs=l.toFlatObject(l,{},null,function(t){return/^is[A-Z]/.test(t)});function Ne(e,t,s){if(!l.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=l.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,b){return!l.isUndefined(b[f])});const n=s.metaTokens,o=s.visitor||d,i=s.dots,a=s.indexes,y=(s.Blob||typeof Blob<"u"&&Blob)&&l.isSpecCompliantForm(t);if(!l.isFunction(o))throw new TypeError("visitor must be a function");function g(p){if(p===null)return"";if(l.isDate(p))return p.toISOString();if(l.isBoolean(p))return p.toString();if(!y&&l.isBlob(p))throw new R("Blob is not supported. Use a Buffer instead.");return l.isArrayBuffer(p)||l.isTypedArray(p)?y&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,f,b){let S=p;if(p&&!b&&typeof p=="object"){if(l.endsWith(f,"{}"))f=n?f:f.slice(0,-2),p=JSON.stringify(p);else if(l.isArray(p)&&Zs(p)||(l.isFileList(p)||l.endsWith(f,"[]"))&&(S=l.toArray(p)))return f=kt(f),S.forEach(function(u,m){!(l.isUndefined(u)||u===null)&&t.append(a===!0?Ge([f],m,i):a===null?f:f+"[]",g(u))}),!1}return _e(p)?!0:(t.append(Ge(b,f,i),g(p)),!1)}const j=[],w=Object.assign(Qs,{defaultVisitor:d,convertValue:g,isVisitable:_e});function C(p,f){if(!l.isUndefined(p)){if(j.indexOf(p)!==-1)throw Error("Circular reference detected in "+f.join("."));j.push(p),l.forEach(p,function(S,P){(!(l.isUndefined(S)||S===null)&&o.call(t,S,l.isString(P)?P.trim():P,f,w))===!0&&C(S,f?f.concat(P):[P])}),j.pop()}}if(!l.isObject(e))throw new TypeError("data must be an object");return C(e),t}function Xe(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Ie(e,t){this._pairs=[],e&&Ne(e,this,t)}const Pt=Ie.prototype;Pt.append=function(t,s){this._pairs.push([t,s])};Pt.toString=function(t){const s=t?function(n){return t.call(this,n,Xe)}:Xe;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function en(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Bt(e,t,s){if(!t)return e;const n=s&&s.encode||en;l.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let i;if(o?i=o(t,s):i=l.isURLSearchParams(t)?t.toString():new Ie(t,s).toString(n),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Ze{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){l.forEach(this.handlers,function(n){n!==null&&t(n)})}}const _t={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tn=typeof URLSearchParams<"u"?URLSearchParams:Ie,sn=typeof FormData<"u"?FormData:null,nn=typeof Blob<"u"?Blob:null,rn={isBrowser:!0,classes:{URLSearchParams:tn,FormData:sn,Blob:nn},protocols:["http","https","file","blob","url","data"]},Me=typeof window<"u"&&typeof document<"u",Le=typeof navigator=="object"&&navigator||void 0,on=Me&&(!Le||["ReactNative","NativeScript","NS"].indexOf(Le.product)<0),an=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ln=Me&&window.location.href||"http://localhost",cn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Me,hasStandardBrowserEnv:on,hasStandardBrowserWebWorkerEnv:an,navigator:Le,origin:ln},Symbol.toStringTag,{value:"Module"})),I={...cn,...rn};function dn(e,t){return Ne(e,new I.classes.URLSearchParams,{visitor:function(s,n,o,i){return I.isNode&&l.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function un(e){return l.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fn(e){const t={},s=Object.keys(e);let n;const o=s.length;let i;for(n=0;n<o;n++)i=s[n],t[i]=e[i];return t}function Lt(e){function t(s,n,o,i){let a=s[i++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),y=i>=s.length;return a=!a&&l.isArray(o)?o.length:a,y?(l.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!c):((!o[a]||!l.isObject(o[a]))&&(o[a]=[]),t(s,n,o[a],i)&&l.isArray(o[a])&&(o[a]=fn(o[a])),!c)}if(l.isFormData(e)&&l.isFunction(e.entries)){const s={};return l.forEachEntry(e,(n,o)=>{t(un(n),o,s,0)}),s}return null}function hn(e,t,s){if(l.isString(e))try{return(t||JSON.parse)(e),l.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const ue={transitional:_t,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",o=n.indexOf("application/json")>-1,i=l.isObject(t);if(i&&l.isHTMLForm(t)&&(t=new FormData(t)),l.isFormData(t))return o?JSON.stringify(Lt(t)):t;if(l.isArrayBuffer(t)||l.isBuffer(t)||l.isStream(t)||l.isFile(t)||l.isBlob(t)||l.isReadableStream(t))return t;if(l.isArrayBufferView(t))return t.buffer;if(l.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return dn(t,this.formSerializer).toString();if((c=l.isFileList(t))||n.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Ne(c?{"files[]":t}:t,y&&new y,this.formSerializer)}}return i||o?(s.setContentType("application/json",!1),hn(t)):t}],transformResponse:[function(t){const s=this.transitional||ue.transitional,n=s&&s.forcedJSONParsing,o=this.responseType==="json";if(l.isResponse(t)||l.isReadableStream(t))return t;if(t&&l.isString(t)&&(n&&!this.responseType||o)){const a=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(c){if(a)throw c.name==="SyntaxError"?R.from(c,R.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:I.classes.FormData,Blob:I.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};l.forEach(["delete","get","head","post","put","patch"],e=>{ue.headers[e]={}});const pn=l.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mn=e=>{const t={};let s,n,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),s=a.substring(0,o).trim().toLowerCase(),n=a.substring(o+1).trim(),!(!s||t[s]&&pn[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},Qe=Symbol("internals");function ae(e){return e&&String(e).trim().toLowerCase()}function ge(e){return e===!1||e==null?e:l.isArray(e)?e.map(ge):String(e)}function gn(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const yn=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ve(e,t,s,n,o){if(l.isFunction(n))return n.call(this,t,s);if(o&&(t=s),!!l.isString(t)){if(l.isString(n))return t.indexOf(n)!==-1;if(l.isRegExp(n))return n.test(t)}}function bn(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function xn(e,t){const s=l.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(o,i,a){return this[n].call(this,t,o,i,a)},configurable:!0})})}let z=class{constructor(t){t&&this.set(t)}set(t,s,n){const o=this;function i(c,y,g){const d=ae(y);if(!d)throw new Error("header name must be a non-empty string");const j=l.findKey(o,d);(!j||o[j]===void 0||g===!0||g===void 0&&o[j]!==!1)&&(o[j||y]=ge(c))}const a=(c,y)=>l.forEach(c,(g,d)=>i(g,d,y));if(l.isPlainObject(t)||t instanceof this.constructor)a(t,s);else if(l.isString(t)&&(t=t.trim())&&!yn(t))a(mn(t),s);else if(l.isObject(t)&&l.isIterable(t)){let c={},y,g;for(const d of t){if(!l.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[g=d[0]]=(y=c[g])?l.isArray(y)?[...y,d[1]]:[y,d[1]]:d[1]}a(c,s)}else t!=null&&i(s,t,n);return this}get(t,s){if(t=ae(t),t){const n=l.findKey(this,t);if(n){const o=this[n];if(!s)return o;if(s===!0)return gn(o);if(l.isFunction(s))return s.call(this,o,n);if(l.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=ae(t),t){const n=l.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||ve(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let o=!1;function i(a){if(a=ae(a),a){const c=l.findKey(n,a);c&&(!s||ve(n,n[c],c,s))&&(delete n[c],o=!0)}}return l.isArray(t)?t.forEach(i):i(t),o}clear(t){const s=Object.keys(this);let n=s.length,o=!1;for(;n--;){const i=s[n];(!t||ve(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const s=this,n={};return l.forEach(this,(o,i)=>{const a=l.findKey(n,i);if(a){s[a]=ge(o),delete s[i];return}const c=t?bn(i):String(i).trim();c!==i&&delete s[i],s[c]=ge(o),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return l.forEach(this,(n,o)=>{n!=null&&n!==!1&&(s[o]=t&&l.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[Qe]=this[Qe]={accessors:{}}).accessors,o=this.prototype;function i(a){const c=ae(a);n[c]||(xn(o,a),n[c]=!0)}return l.isArray(t)?t.forEach(i):i(t),this}};z.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);l.reduceDescriptors(z.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});l.freezeMethods(z);function Ce(e,t){const s=this||ue,n=t||s,o=z.from(n.headers);let i=n.data;return l.forEach(e,function(c){i=c.call(s,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function Ft(e){return!!(e&&e.__CANCEL__)}function ne(e,t,s){R.call(this,e??"canceled",R.ERR_CANCELED,t,s),this.name="CanceledError"}l.inherits(ne,R,{__CANCEL__:!0});function Ut(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new R("Request failed with status code "+s.status,[R.ERR_BAD_REQUEST,R.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function jn(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Sn(e,t){e=e||10;const s=new Array(e),n=new Array(e);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(y){const g=Date.now(),d=n[i];a||(a=g),s[o]=y,n[o]=g;let j=i,w=0;for(;j!==o;)w+=s[j++],j=j%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),g-a<t)return;const C=d&&g-d;return C?Math.round(w*1e3/C):void 0}}function wn(e,t){let s=0,n=1e3/t,o,i;const a=(g,d=Date.now())=>{s=d,o=null,i&&(clearTimeout(i),i=null),e(...g)};return[(...g)=>{const d=Date.now(),j=d-s;j>=n?a(g,d):(o=g,i||(i=setTimeout(()=>{i=null,a(o)},n-j)))},()=>o&&a(o)]}const be=(e,t,s=3)=>{let n=0;const o=Sn(50,250);return wn(i=>{const a=i.loaded,c=i.lengthComputable?i.total:void 0,y=a-n,g=o(y),d=a<=c;n=a;const j={loaded:a,total:c,progress:c?a/c:void 0,bytes:y,rate:g||void 0,estimated:g&&c&&d?(c-a)/g:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(j)},s)},et=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},tt=e=>(...t)=>l.asap(()=>e(...t)),Nn=I.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,I.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(I.origin),I.navigator&&/(msie|trident)/i.test(I.navigator.userAgent)):()=>!0,En=I.hasStandardBrowserEnv?{write(e,t,s,n,o,i,a){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(t)}`];l.isNumber(s)&&c.push(`expires=${new Date(s).toUTCString()}`),l.isString(n)&&c.push(`path=${n}`),l.isString(o)&&c.push(`domain=${o}`),i===!0&&c.push("secure"),l.isString(a)&&c.push(`SameSite=${a}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Rn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Tn(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function qt(e,t,s){let n=!Rn(t);return e&&(n||s==!1)?Tn(e,t):t}const st=e=>e instanceof z?{...e}:e;function X(e,t){t=t||{};const s={};function n(g,d,j,w){return l.isPlainObject(g)&&l.isPlainObject(d)?l.merge.call({caseless:w},g,d):l.isPlainObject(d)?l.merge({},d):l.isArray(d)?d.slice():d}function o(g,d,j,w){if(l.isUndefined(d)){if(!l.isUndefined(g))return n(void 0,g,j,w)}else return n(g,d,j,w)}function i(g,d){if(!l.isUndefined(d))return n(void 0,d)}function a(g,d){if(l.isUndefined(d)){if(!l.isUndefined(g))return n(void 0,g)}else return n(void 0,d)}function c(g,d,j){if(j in t)return n(g,d);if(j in e)return n(void 0,g)}const y={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(g,d,j)=>o(st(g),st(d),j,!0)};return l.forEach(Object.keys({...e,...t}),function(d){const j=y[d]||o,w=j(e[d],t[d],d);l.isUndefined(w)&&j!==c||(s[d]=w)}),s}const It=e=>{const t=X({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:c}=t;if(t.headers=a=z.from(a),t.url=Bt(qt(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),l.isFormData(s)){if(I.hasStandardBrowserEnv||I.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(l.isFunction(s.getHeaders)){const y=s.getHeaders(),g=["content-type","content-length"];Object.entries(y).forEach(([d,j])=>{g.includes(d.toLowerCase())&&a.set(d,j)})}}if(I.hasStandardBrowserEnv&&(n&&l.isFunction(n)&&(n=n(t)),n||n!==!1&&Nn(t.url))){const y=o&&i&&En.read(i);y&&a.set(o,y)}return t},vn=typeof XMLHttpRequest<"u",Cn=vn&&function(e){return new Promise(function(s,n){const o=It(e);let i=o.data;const a=z.from(o.headers).normalize();let{responseType:c,onUploadProgress:y,onDownloadProgress:g}=o,d,j,w,C,p;function f(){C&&C(),p&&p(),o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(o.method.toUpperCase(),o.url,!0),b.timeout=o.timeout;function S(){if(!b)return;const u=z.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!c||c==="text"||c==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:u,config:e,request:b};Ut(function(O){s(O),f()},function(O){n(O),f()},N),b=null}"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(S)},b.onabort=function(){b&&(n(new R("Request aborted",R.ECONNABORTED,e,b)),b=null)},b.onerror=function(m){const N=m&&m.message?m.message:"Network Error",h=new R(N,R.ERR_NETWORK,e,b);h.event=m||null,n(h),b=null},b.ontimeout=function(){let m=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const N=o.transitional||_t;o.timeoutErrorMessage&&(m=o.timeoutErrorMessage),n(new R(m,N.clarifyTimeoutError?R.ETIMEDOUT:R.ECONNABORTED,e,b)),b=null},i===void 0&&a.setContentType(null),"setRequestHeader"in b&&l.forEach(a.toJSON(),function(m,N){b.setRequestHeader(N,m)}),l.isUndefined(o.withCredentials)||(b.withCredentials=!!o.withCredentials),c&&c!=="json"&&(b.responseType=o.responseType),g&&([w,p]=be(g,!0),b.addEventListener("progress",w)),y&&b.upload&&([j,C]=be(y),b.upload.addEventListener("progress",j),b.upload.addEventListener("loadend",C)),(o.cancelToken||o.signal)&&(d=u=>{b&&(n(!u||u.type?new ne(null,e,b):u),b.abort(),b=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));const P=jn(o.url);if(P&&I.protocols.indexOf(P)===-1){n(new R("Unsupported protocol "+P+":",R.ERR_BAD_REQUEST,e));return}b.send(i||null)})},On=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,o;const i=function(g){if(!o){o=!0,c();const d=g instanceof Error?g:this.reason;n.abort(d instanceof R?d:new ne(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,i(new R(`timeout ${t} of ms exceeded`,R.ETIMEDOUT))},t);const c=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(i):g.removeEventListener("abort",i)}),e=null)};e.forEach(g=>g.addEventListener("abort",i));const{signal:y}=n;return y.unsubscribe=()=>l.asap(c),y}},An=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,o;for(;n<s;)o=n+t,yield e.slice(n,o),n=o},Dn=async function*(e,t){for await(const s of kn(e))yield*An(s,t)},kn=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},nt=(e,t,s,n)=>{const o=Dn(e,t);let i=0,a,c=y=>{a||(a=!0,n&&n(y))};return new ReadableStream({async pull(y){try{const{done:g,value:d}=await o.next();if(g){c(),y.close();return}let j=d.byteLength;if(s){let w=i+=j;s(w)}y.enqueue(new Uint8Array(d))}catch(g){throw c(g),g}},cancel(y){return c(y),o.return()}},{highWaterMark:2})},rt=64*1024,{isFunction:pe}=l,Pn=(({Request:e,Response:t})=>({Request:e,Response:t}))(l.global),{ReadableStream:ot,TextEncoder:it}=l.global,at=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Bn=e=>{e=l.merge.call({skipUndefined:!0},Pn,e);const{fetch:t,Request:s,Response:n}=e,o=t?pe(t):typeof fetch=="function",i=pe(s),a=pe(n);if(!o)return!1;const c=o&&pe(ot),y=o&&(typeof it=="function"?(p=>f=>p.encode(f))(new it):async p=>new Uint8Array(await new s(p).arrayBuffer())),g=i&&c&&at(()=>{let p=!1;const f=new s(I.origin,{body:new ot,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!f}),d=a&&c&&at(()=>l.isReadableStream(new n("").body)),j={stream:d&&(p=>p.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!j[p]&&(j[p]=(f,b)=>{let S=f&&f[p];if(S)return S.call(f);throw new R(`Response type '${p}' is not supported`,R.ERR_NOT_SUPPORT,b)})});const w=async p=>{if(p==null)return 0;if(l.isBlob(p))return p.size;if(l.isSpecCompliantForm(p))return(await new s(I.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(l.isArrayBufferView(p)||l.isArrayBuffer(p))return p.byteLength;if(l.isURLSearchParams(p)&&(p=p+""),l.isString(p))return(await y(p)).byteLength},C=async(p,f)=>{const b=l.toFiniteNumber(p.getContentLength());return b??w(f)};return async p=>{let{url:f,method:b,data:S,signal:P,cancelToken:u,timeout:m,onDownloadProgress:N,onUploadProgress:h,responseType:O,headers:_,withCredentials:F="same-origin",fetchOptions:U}=It(p),q=t||fetch;O=O?(O+"").toLowerCase():"text";let M=On([P,u&&u.toAbortSignal()],m),K=null;const x=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let E;try{if(h&&g&&b!=="get"&&b!=="head"&&(E=await C(_,S))!==0){let J=new s(f,{method:"POST",body:S,duplex:"half"}),Z;if(l.isFormData(S)&&(Z=J.headers.get("content-type"))&&_.setContentType(Z),J.body){const[Re,fe]=et(E,be(tt(h)));S=nt(J.body,rt,Re,fe)}}l.isString(F)||(F=F?"include":"omit");const v=i&&"credentials"in s.prototype,L={...U,signal:M,method:b.toUpperCase(),headers:_.normalize().toJSON(),body:S,duplex:"half",credentials:v?F:void 0};K=i&&new s(f,L);let k=await(i?q(K,U):q(f,L));const B=d&&(O==="stream"||O==="response");if(d&&(N||B&&x)){const J={};["status","statusText","headers"].forEach(ze=>{J[ze]=k[ze]});const Z=l.toFiniteNumber(k.headers.get("content-length")),[Re,fe]=N&&et(Z,be(tt(N),!0))||[];k=new n(nt(k.body,rt,Re,()=>{fe&&fe(),x&&x()}),J)}O=O||"text";let V=await j[l.findKey(j,O)||"text"](k,p);return!B&&x&&x(),await new Promise((J,Z)=>{Ut(J,Z,{data:V,headers:z.from(k.headers),status:k.status,statusText:k.statusText,config:p,request:K})})}catch(v){throw x&&x(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new R("Network Error",R.ERR_NETWORK,p,K),{cause:v.cause||v}):R.from(v,v&&v.code,p,K)}}},_n=new Map,Mt=e=>{let t=e&&e.env||{};const{fetch:s,Request:n,Response:o}=t,i=[n,o,s];let a=i.length,c=a,y,g,d=_n;for(;c--;)y=i[c],g=d.get(y),g===void 0&&d.set(y,g=c?new Map:Bn(t)),d=g;return g};Mt();const $e={http:Xs,xhr:Cn,fetch:{get:Mt}};l.forEach($e,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const lt=e=>`- ${e}`,Ln=e=>l.isFunction(e)||e===null||e===!1;function Fn(e,t){e=l.isArray(e)?e:[e];const{length:s}=e;let n,o;const i={};for(let a=0;a<s;a++){n=e[a];let c;if(o=n,!Ln(n)&&(o=$e[(c=String(n)).toLowerCase()],o===void 0))throw new R(`Unknown adapter '${c}'`);if(o&&(l.isFunction(o)||(o=o.get(t))))break;i[c||"#"+a]=o}if(!o){const a=Object.entries(i).map(([y,g])=>`adapter ${y} `+(g===!1?"is not supported by the environment":"is not available in the build"));let c=s?a.length>1?`since :
`+a.map(lt).join(`
`):" "+lt(a[0]):"as no adapter specified";throw new R("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return o}const $t={getAdapter:Fn,adapters:$e};function Oe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ne(null,e)}function ct(e){return Oe(e),e.headers=z.from(e.headers),e.data=Ce.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$t.getAdapter(e.adapter||ue.adapter,e)(e).then(function(n){return Oe(e),n.data=Ce.call(e,e.transformResponse,n),n.headers=z.from(n.headers),n},function(n){return Ft(n)||(Oe(e),n&&n.response&&(n.response.data=Ce.call(e,e.transformResponse,n.response),n.response.headers=z.from(n.response.headers))),Promise.reject(n)})}const zt="1.13.2",Ee={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ee[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const dt={};Ee.transitional=function(t,s,n){function o(i,a){return"[Axios v"+zt+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,c)=>{if(t===!1)throw new R(o(a," has been removed"+(s?" in "+s:"")),R.ERR_DEPRECATED);return s&&!dt[a]&&(dt[a]=!0,console.warn(o(a," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,a,c):!0}};Ee.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Un(e,t,s){if(typeof e!="object")throw new R("options must be an object",R.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const i=n[o],a=t[i];if(a){const c=e[i],y=c===void 0||a(c,i,e);if(y!==!0)throw new R("option "+i+" must be "+y,R.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new R("Unknown option "+i,R.ERR_BAD_OPTION)}}const ye={assertOptions:Un,validators:Ee},W=ye.validators;let G=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ze,response:new Ze}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=X(this.defaults,s);const{transitional:n,paramsSerializer:o,headers:i}=s;n!==void 0&&ye.assertOptions(n,{silentJSONParsing:W.transitional(W.boolean),forcedJSONParsing:W.transitional(W.boolean),clarifyTimeoutError:W.transitional(W.boolean)},!1),o!=null&&(l.isFunction(o)?s.paramsSerializer={serialize:o}:ye.assertOptions(o,{encode:W.function,serialize:W.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),ye.assertOptions(s,{baseUrl:W.spelling("baseURL"),withXsrfToken:W.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let a=i&&l.merge(i.common,i[s.method]);i&&l.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),s.headers=z.concat(a,i);const c=[];let y=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(s)===!1||(y=y&&f.synchronous,c.unshift(f.fulfilled,f.rejected))});const g=[];this.interceptors.response.forEach(function(f){g.push(f.fulfilled,f.rejected)});let d,j=0,w;if(!y){const p=[ct.bind(this),void 0];for(p.unshift(...c),p.push(...g),w=p.length,d=Promise.resolve(s);j<w;)d=d.then(p[j++],p[j++]);return d}w=c.length;let C=s;for(;j<w;){const p=c[j++],f=c[j++];try{C=p(C)}catch(b){f.call(this,b);break}}try{d=ct.call(this,C)}catch(p){return Promise.reject(p)}for(j=0,w=g.length;j<w;)d=d.then(g[j++],g[j++]);return d}getUri(t){t=X(this.defaults,t);const s=qt(t.baseURL,t.url,t.allowAbsoluteUrls);return Bt(s,t.params,t.paramsSerializer)}};l.forEach(["delete","get","head","options"],function(t){G.prototype[t]=function(s,n){return this.request(X(n||{},{method:t,url:s,data:(n||{}).data}))}});l.forEach(["post","put","patch"],function(t){function s(n){return function(i,a,c){return this.request(X(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}G.prototype[t]=s(),G.prototype[t+"Form"]=s(!0)});let qn=class Ht{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(o=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](o);n._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(c=>{n.subscribe(c),i=c}).then(o);return a.cancel=function(){n.unsubscribe(i)},a},t(function(i,a,c){n.reason||(n.reason=new ne(i,a,c),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Ht(function(o){t=o}),cancel:t}}};function In(e){return function(s){return e.apply(null,s)}}function Mn(e){return l.isObject(e)&&e.isAxiosError===!0}const Fe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Fe).forEach(([e,t])=>{Fe[t]=e});function Kt(e){const t=new G(e),s=wt(G.prototype.request,t);return l.extend(s,G.prototype,t,{allOwnKeys:!0}),l.extend(s,t,null,{allOwnKeys:!0}),s.create=function(o){return Kt(X(e,o))},s}const T=Kt(ue);T.Axios=G;T.CanceledError=ne;T.CancelToken=qn;T.isCancel=Ft;T.VERSION=zt;T.toFormData=Ne;T.AxiosError=R;T.Cancel=T.CanceledError;T.all=function(t){return Promise.all(t)};T.spread=In;T.isAxiosError=Mn;T.mergeConfig=X;T.AxiosHeaders=z;T.formToJSON=e=>Lt(l.isHTMLForm(e)?new FormData(e):e);T.getAdapter=$t.getAdapter;T.HttpStatusCode=Fe;T.default=T;const{Axios:mr,AxiosError:gr,CanceledError:yr,isCancel:br,CancelToken:xr,VERSION:jr,all:Sr,Cancel:wr,isAxiosError:Nr,spread:Er,toFormData:Rr,AxiosHeaders:Tr,HttpStatusCode:vr,formToJSON:Cr,getAdapter:Or,mergeConfig:Ar}=T;/**
 * filesize
 *
 * @copyright 2024 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 10.1.6
 */const $n="array",zn="bit",ut="bits",Hn="byte",ft="bytes",Q="",Kn="exponent",Wn="function",ht="iec",Jn="Invalid number",Vn="Invalid rounding method",Ae="jedec",Yn="object",pt=".",Gn="round",Xn="s",Zn="si",Qn="kbit",er="kB",tr=" ",sr="string",nr="0",De={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function xe(e,{bits:t=!1,pad:s=!1,base:n=-1,round:o=2,locale:i=Q,localeOptions:a={},separator:c=Q,spacer:y=tr,symbols:g={},standard:d=Q,output:j=sr,fullform:w=!1,fullforms:C=[],exponent:p=-1,roundingMethod:f=Gn,precision:b=0}={}){let S=p,P=Number(e),u=[],m=0,N=Q;d===Zn?(n=10,d=Ae):d===ht||d===Ae?n=2:n===2?d=ht:(n=10,d=Ae);const h=n===10?1e3:1024,O=w===!0,_=P<0,F=Math[f];if(typeof e!="bigint"&&isNaN(e))throw new TypeError(Jn);if(typeof F!==Wn)throw new TypeError(Vn);if(_&&(P=-P),(S===-1||isNaN(S))&&(S=Math.floor(Math.log(P)/Math.log(h)),S<0&&(S=0)),S>8&&(b>0&&(b+=8-S),S=8),j===Kn)return S;if(P===0)u[0]=0,N=u[1]=De.symbol[d][t?ut:ft][S];else{m=P/(n===2?Math.pow(2,S*10):Math.pow(1e3,S)),t&&(m=m*8,m>=h&&S<8&&(m=m/h,S++));const U=Math.pow(10,S>0?o:0);u[0]=F(m*U)/U,u[0]===h&&S<8&&p===-1&&(u[0]=1,S++),N=u[1]=n===10&&S===1?t?Qn:er:De.symbol[d][t?ut:ft][S]}if(_&&(u[0]=-u[0]),b>0&&(u[0]=u[0].toPrecision(b)),u[1]=g[u[1]]||u[1],i===!0?u[0]=u[0].toLocaleString():i.length>0?u[0]=u[0].toLocaleString(i,a):c.length>0&&(u[0]=u[0].toString().replace(pt,c)),s&&o>0){const U=u[0].toString(),q=c||(U.match(/(\D)/g)||[]).pop()||pt,M=U.toString().split(q),K=M[1]||Q,x=K.length,E=o-x;u[0]=`${M[0]}${q}${K.padEnd(x+E,nr)}`}return O&&(u[1]=C[S]?C[S]:De.fullform[d][S]+(t?zn:Hn)+(u[0]===1?Q:Xn)),j===$n?u:j===Yn?{value:u[0],symbol:u[1],exponent:S,unit:N}:u.join(y)}const Wt=({mediaType:e,onDelete:t})=>{const[s,n]=D.useState([]),[o,i]=D.useState(0),[a,c]=D.useState(!0),y=async()=>{try{const N=(await T.get("/api/suggestion")).data.filter(h=>h.mediaType===e);n(N),i(0)}catch(m){console.error("Error loading suggestions:",m)}finally{c(!1)}};D.useEffect(()=>{y()},[e]);const g=async m=>{try{await T.post(`/api/suggestion/${m}/dismiss`),n(s.filter(N=>N.id!==m)),o>=s.length-1&&i(Math.max(0,o-1))}catch(N){console.error("Error dismissing suggestion:",N)}},d=async m=>{if(confirm(`Are you sure you want to delete "${m.mediaTitle}"?`))try{await T.post(`/api/suggestion/${m.id}/dismiss`);const N=m.mediaType==="Movie"?`/api/movie/${m.mediaId}`:`/api/series/${m.mediaId}`;await T.delete(N),n(s.filter(h=>h.id!==m.id)),o>=s.length-1&&i(Math.max(0,o-1)),t&&t()}catch(N){console.error("Error deleting media:",N),alert("Error deleting media. Check console for details.")}},j=m=>{switch(m){case"NotWatched":return"ðŸ‘ï¸";case"FullyWatched":return"âœ“";case"IgnoredRequest":return"ðŸ“Œ";case"UnmonitoredCleanup":return"ðŸ”•";default:return"ðŸ’¡"}};if(a||s.length===0)return null;const w=2,C=Math.ceil(s.length/w),p=Math.floor(o/w),f=p*w,b=Math.min(f+w,s.length),S=s.slice(f,b),P=()=>{const m=(p+1)%C;i(m*w)},u=()=>{const m=(p-1+C)%C;i(m*w)};return r.jsxs("div",{className:"suggestion-banner",children:[r.jsx("div",{className:"suggestion-banner-grid",children:S.map(m=>r.jsxs("div",{className:"suggestion-banner-card",children:[r.jsx("div",{className:"suggestion-banner-poster",children:m.posterUrl?r.jsx("img",{src:m.posterUrl,alt:m.mediaTitle}):r.jsx("div",{className:"poster-placeholder-small",children:m.mediaType==="Movie"?"ðŸŽ¬":"ðŸ“º"})}),r.jsxs("div",{className:"suggestion-banner-details",children:[r.jsx("div",{className:"suggestion-banner-header",children:r.jsx("span",{className:"suggestion-icon",children:j(m.ruleType)})}),r.jsxs("div",{className:"suggestion-banner-title",children:[m.mediaTitle," ",m.mediaYear&&`(${m.mediaYear})`]}),r.jsx("div",{className:"suggestion-banner-reason",children:m.reason}),r.jsx("div",{className:"suggestion-banner-meta",children:r.jsx("span",{children:xe(m.mediaSize,{standard:"jedec"})})})]}),r.jsxs("div",{className:"suggestion-banner-actions",children:[r.jsxs("button",{className:"btn btn-danger btn-sm",onClick:()=>d(m),title:"Delete this media",children:[r.jsx(A,{icon:ee})," Delete"]}),r.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>g(m.id),title:"Keep but dismiss",children:[r.jsx(A,{icon:mt})," Keep"]}),r.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:()=>g(m.id),title:"Dismiss",children:[r.jsx(A,{icon:Ue})," Dismiss"]})]})]},m.id))}),s.length>w&&r.jsxs("div",{className:"suggestion-banner-footer",children:[r.jsx("button",{className:"nav-arrow",onClick:u,title:"Previous",children:r.jsx(A,{icon:os})}),r.jsxs("span",{className:"suggestion-pagination",children:[f+1,"-",b," of ",s.length," suggestions"]}),r.jsx("button",{className:"nav-arrow",onClick:P,title:"Next",children:r.jsx(A,{icon:Pe})})]})]})},rr=()=>{const[e,t]=D.useState([]),[s,n]=D.useState(!0),[o,i]=D.useState("added"),[a,c]=D.useState("desc"),[y,g]=D.useState(null);D.useEffect(()=>{d()},[]);const d=async()=>{try{const h=await T.get("/api/media/movies");t(h.data),n(!1)}catch(h){console.error("Error loading movies:",h),n(!1)}},j=h=>h.sizeOnDisk===0&&!h.monitored?0:h.sizeOnDisk===0&&h.monitored?1:h.sizeOnDisk>0&&!h.monitored?2:3,w=h=>{if(!h)return[];try{return JSON.parse(h)}catch{return[]}},C=h=>{const O=new Date(h),_=String(O.getDate()).padStart(2,"0"),F=String(O.getMonth()+1).padStart(2,"0"),U=O.getFullYear();return`${_}-${F}-${U}`},p=h=>{const O=w(h.watchHistory),_=O.length;if(_===0&&h.watchedBy)return r.jsx("span",{children:h.watchedBy});if(_===0)return r.jsx("span",{style:{color:"#666"},children:"-"});if(_===1)return r.jsx("span",{children:O[0].user});const F=O[O.length-1],U=O.map((q,M)=>`${q.user} - ${C(q.date)}${M===O.length-1?" âœ“":""}`).join(`
`);return r.jsxs("span",{title:U,style:{cursor:"pointer"},children:[F.user," ",r.jsxs("span",{style:{backgroundColor:"#5d9cec",color:"white",padding:"2px 6px",borderRadius:"10px",fontSize:"0.85em",marginLeft:"4px"},children:[r.jsx(A,{icon:jt})," ",_]})]})},f=h=>{o===h?c(a==="asc"?"desc":"asc"):(i(h),c("asc"))},b=h=>o!==h?r.jsx(A,{icon:yt,className:"sort-icon"}):a==="asc"?r.jsx(A,{icon:bt,className:"sort-icon"}):r.jsx(A,{icon:xt,className:"sort-icon"}),S=[...e].sort((h,O)=>{if(o==="status"){const U=j(h),q=j(O);return U<q?a==="asc"?-1:1:U>q?a==="asc"?1:-1:0}let _=h[o],F=O[o];return(o==="added"||o==="requestedDate"||o==="lastWatched")&&(_=_?new Date(_).getTime():0,F=F?new Date(F).getTime():0),_<F?a==="asc"?-1:1:_>F?a==="asc"?1:-1:0}),P=async(h,O)=>{var _,F;if(window.confirm(`Are you sure you want to delete "${O}"? This will also delete the files from disk.`))try{await T.delete(`/api/media/movie/${h}`),t(e.filter(U=>U.id!==h)),m("Movie deleted successfully","success")}catch(U){m(((F=(_=U.response)==null?void 0:_.data)==null?void 0:F.message)||"Error deleting movie","error")}},u=async()=>{try{await T.post("/api/media/sync"),m("Sync started","success"),setTimeout(d,2e3)}catch{m("Error starting sync","error")}},m=(h,O)=>{g({message:h,type:O}),setTimeout(()=>g(null),3e3)},N=h=>h?new Date(h).toLocaleDateString():"-";return s?r.jsx("div",{className:"loading",children:"Loading movies..."}):r.jsxs("div",{children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{className:"page-title",children:"Movies"}),r.jsxs("button",{className:"btn btn-primary",onClick:u,children:[r.jsx(A,{icon:gt})," Sync Now"]})]}),r.jsx(Wt,{mediaType:"Movie",onDelete:d}),e.length===0?r.jsx("div",{className:"empty-state",children:"No movies found. Configure your settings and sync to see movies."}):r.jsx("div",{className:"table-container",children:r.jsxs("table",{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsxs("th",{onClick:()=>f("title"),children:["Title ",b("title")]}),r.jsxs("th",{onClick:()=>f("year"),children:["Year ",b("year")]}),r.jsxs("th",{onClick:()=>f("sizeOnDisk"),children:["Size ",b("sizeOnDisk")]}),r.jsxs("th",{onClick:()=>f("status"),children:["Status ",b("status")]}),r.jsxs("th",{onClick:()=>f("added"),children:["Added ",b("added")]}),r.jsxs("th",{onClick:()=>f("requestedDate"),children:["Requested ",b("requestedDate")]}),r.jsx("th",{children:"Requested By"}),r.jsxs("th",{onClick:()=>f("lastWatched"),children:["Last Watched ",b("lastWatched")]}),r.jsx("th",{children:"Watched By"}),r.jsx("th",{className:"action-cell",children:"Actions"})]})}),r.jsx("tbody",{children:S.map(h=>r.jsxs("tr",{children:[r.jsx("td",{children:h.title}),r.jsx("td",{children:h.year}),r.jsx("td",{className:"size-cell",children:xe(h.sizeOnDisk)}),r.jsxs("td",{children:[h.sizeOnDisk===0&&!h.monitored&&r.jsx("span",{className:"badge badge-warning",title:"Missing - Not monitored in Radarr",children:"âš ï¸ Missing"}),h.sizeOnDisk===0&&h.monitored&&r.jsx("span",{className:"badge badge-info",title:"Monitored - Waiting for download",children:"â³ Pending"}),h.sizeOnDisk>0&&!h.monitored&&r.jsx("span",{className:"badge badge-secondary",title:"Not monitored in Radarr",children:"ðŸ”• Unmonitored"}),h.sizeOnDisk>0&&h.monitored&&r.jsx("span",{className:"badge badge-success",title:"Downloaded and monitored",children:"âœ… Available"})]}),r.jsx("td",{className:"date-cell",children:N(h.added)}),r.jsx("td",{className:"date-cell",children:N(h.requestedDate)}),r.jsx("td",{children:h.requestedBy||"-"}),r.jsx("td",{className:"date-cell",children:N(h.lastWatched)}),r.jsx("td",{children:p(h)}),r.jsx("td",{className:"action-cell",children:r.jsx("button",{className:"btn btn-danger",onClick:()=>P(h.id,h.title),children:r.jsx(A,{icon:ee})})})]},h.id))})]})}),y&&r.jsx("div",{className:`notification ${y.type}`,children:y.message})]})},or=()=>{const[e,t]=D.useState([]),[s,n]=D.useState(!0),[o,i]=D.useState(new Set),[a,c]=D.useState(new Set),[y,g]=D.useState(null),[d,j]=D.useState("added"),[w,C]=D.useState("desc");D.useEffect(()=>{p()},[]);const p=async()=>{try{const x=await T.get("/api/media/series");t(x.data),n(!1)}catch(x){console.error("Error loading series:",x),n(!1)}},f=x=>x.totalSize===0&&!x.monitored?0:x.totalSize===0&&x.monitored?1:x.totalSize>0&&!x.monitored?2:3,b=x=>{if(!x)return[];try{return JSON.parse(x)}catch{return[]}},S=x=>{const E=new Date(x),v=String(E.getDate()).padStart(2,"0"),L=String(E.getMonth()+1).padStart(2,"0"),k=E.getFullYear();return`${v}-${L}-${k}`},P=x=>{const E=b(x.watchHistory),v=E.length;if(v===0&&x.watchedBy)return r.jsx("span",{children:x.watchedBy});if(v===0)return r.jsx("span",{style:{color:"#666"},children:"-"});if(v===1)return r.jsx("span",{children:E[0].user});const L=E[E.length-1],k=E.map((B,V)=>`${B.user} - ${S(B.date)}${V===E.length-1?" âœ“":""}`).join(`
`);return r.jsxs("span",{title:k,style:{cursor:"pointer"},children:[L.user," ",r.jsxs("span",{style:{backgroundColor:"#5d9cec",color:"white",padding:"2px 6px",borderRadius:"10px",fontSize:"0.85em",marginLeft:"4px"},children:[r.jsx(A,{icon:jt})," ",v]})]})},u=x=>{d===x?C(w==="asc"?"desc":"asc"):(j(x),C("asc"))},m=x=>d!==x?r.jsx(A,{icon:yt,className:"sort-icon"}):w==="asc"?r.jsx(A,{icon:bt,className:"sort-icon"}):r.jsx(A,{icon:xt,className:"sort-icon"}),N=[...e].sort((x,E)=>{if(d==="status"){const k=f(x),B=f(E);return k<B?w==="asc"?-1:1:k>B?w==="asc"?1:-1:0}let v=x[d],L=E[d];return(d==="added"||d==="requestedDate")&&(v=v?new Date(v).getTime():0,L=L?new Date(L).getTime():0),v<L?w==="asc"?-1:1:v>L?w==="asc"?1:-1:0}),h=x=>{const E=new Set(o);E.has(x)?E.delete(x):E.add(x),i(E)},O=(x,E,v)=>{v.stopPropagation();const L=`${x}-${E}`,k=new Set(a);k.has(L)?k.delete(L):k.add(L),c(k)},_=async(x,E)=>{var v,L;if(window.confirm(`Are you sure you want to delete "${E}"? This will delete all episodes.`))try{await T.delete(`/api/media/series/${x}`),t(e.filter(k=>k.id!==x)),q("Series deleted successfully","success")}catch(k){q(((L=(v=k.response)==null?void 0:v.data)==null?void 0:L.message)||"Error deleting series","error")}},F=async(x,E,v)=>{var L,k;if(window.confirm(`Are you sure you want to delete episode "${v}"? This will delete the file from disk.`))try{await T.delete(`/api/media/episode/${E}`),t(e.map(B=>B.id===x?{...B,episodes:B.episodes.filter(V=>V.id!==E)}:B)),q("Episode deleted successfully","success")}catch(B){q(((k=(L=B.response)==null?void 0:L.data)==null?void 0:k.message)||"Error deleting episode","error")}},U=async()=>{try{await T.post("/api/media/sync"),q("Sync started","success"),setTimeout(p,2e3)}catch{q("Error starting sync","error")}},q=(x,E)=>{g({message:x,type:E}),setTimeout(()=>g(null),3e3)},M=x=>x?new Date(x).toLocaleDateString():"-",K=x=>{const E={};return x.forEach(v=>{E[v.seasonNumber]||(E[v.seasonNumber]=[]),E[v.seasonNumber].push(v)}),E};return s?r.jsx("div",{className:"loading",children:"Loading series..."}):r.jsxs("div",{children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{className:"page-title",children:"Series"}),r.jsxs("button",{className:"btn btn-primary",onClick:U,children:[r.jsx(A,{icon:gt})," Sync Now"]})]}),r.jsx(Wt,{mediaType:"Series",onDelete:p}),e.length===0?r.jsx("div",{className:"empty-state",children:"No series found. Configure your settings and sync to see series."}):r.jsx("div",{className:"table-container",children:r.jsxs("table",{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:{width:"30px"}}),r.jsxs("th",{onClick:()=>u("title"),children:["Title ",m("title")]}),r.jsxs("th",{onClick:()=>u("year"),children:["Year ",m("year")]}),r.jsxs("th",{onClick:()=>u("totalSize"),children:["Total Size ",m("totalSize")]}),r.jsxs("th",{onClick:()=>u("status"),children:["Status ",m("status")]}),r.jsxs("th",{onClick:()=>u("added"),children:["Added ",m("added")]}),r.jsxs("th",{onClick:()=>u("requestedDate"),children:["Requested ",m("requestedDate")]}),r.jsx("th",{children:"Requested By"}),r.jsx("th",{className:"action-cell",children:"Actions"})]})}),r.jsx("tbody",{children:N.map(x=>r.jsxs(D.Fragment,{children:[r.jsxs("tr",{className:"expandable-row",onClick:()=>h(x.id),children:[r.jsx("td",{children:r.jsx(A,{icon:o.has(x.id)?He:Pe})}),r.jsx("td",{children:x.title}),r.jsx("td",{children:x.year}),r.jsx("td",{children:xe(x.totalSize)}),r.jsxs("td",{children:[x.totalSize===0&&!x.monitored&&r.jsx("span",{className:"badge badge-warning",title:"Missing - Not monitored in Sonarr",children:"âš ï¸ Missing"}),x.totalSize===0&&x.monitored&&r.jsx("span",{className:"badge badge-info",title:"Monitored - Waiting for download",children:"â³ Pending"}),x.totalSize>0&&!x.monitored&&r.jsx("span",{className:"badge badge-secondary",title:"Not monitored in Sonarr",children:"ðŸ”• Unmonitored"}),x.totalSize>0&&x.monitored&&r.jsx("span",{className:"badge badge-success",title:"Downloaded and monitored",children:"âœ… Available"})]}),r.jsx("td",{className:"date-cell",children:M(x.added)}),r.jsx("td",{className:"date-cell",children:M(x.requestedDate)}),r.jsx("td",{children:x.requestedBy||"-"}),r.jsx("td",{className:"action-cell",onClick:E=>E.stopPropagation(),children:r.jsx("button",{className:"btn btn-danger",onClick:()=>_(x.id,x.title),children:r.jsx(A,{icon:ee})})})]}),o.has(x.id)&&r.jsx("tr",{children:r.jsx("td",{colSpan:9,children:r.jsx("div",{className:"expanded-content",children:Object.entries(K(x.episodes)).sort(([E],[v])=>parseInt(E)-parseInt(v)).map(([E,v])=>{const L=`${x.id}-${E}`,k=a.has(L);return r.jsxs("div",{className:"season-group",children:[r.jsxs("div",{className:"season-header",onClick:B=>O(x.id,parseInt(E),B),style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx(A,{icon:k?He:Pe}),r.jsxs("span",{children:["Season ",E]})]}),k&&r.jsxs("table",{className:"episode-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Episode"}),r.jsx("th",{children:"Title"}),r.jsx("th",{children:"Size"}),r.jsx("th",{children:"Air Date"}),r.jsx("th",{children:"Last Watched"}),r.jsx("th",{children:"Watched By"}),r.jsx("th",{className:"action-cell",children:"Actions"})]})}),r.jsx("tbody",{children:v.sort((B,V)=>B.episodeNumber-V.episodeNumber).map(B=>r.jsxs("tr",{children:[r.jsxs("td",{children:["E",B.episodeNumber]}),r.jsx("td",{children:B.title}),r.jsx("td",{className:"size-cell",children:xe(B.sizeOnDisk)}),r.jsx("td",{className:"date-cell",children:M(B.airDate)}),r.jsx("td",{className:"date-cell",children:M(B.lastWatched)}),r.jsx("td",{children:P(B)}),r.jsx("td",{className:"action-cell",children:r.jsx("button",{className:"btn btn-danger",onClick:()=>F(x.id,B.id,B.title),children:r.jsx(A,{icon:ee})})})]},B.id))})]})]},E)})})})})]},x.id))})]})}),y&&r.jsx("div",{className:`notification ${y.type}`,children:y.message})]})},ke=[{value:"lastWatched",label:"Last Watched",type:"date"},{value:"added",label:"Added Date",type:"date"},{value:"requestedDate",label:"Requested Date",type:"date"},{value:"requestedBy",label:"Requested By",type:"text"},{value:"watchedBy",label:"Watched By",type:"text"},{value:"watchCount",label:"Watch Count",type:"number"},{value:"sizeOnDisk",label:"Size on Disk (bytes)",type:"number"},{value:"totalSize",label:"Total Size (bytes)",type:"number"},{value:"year",label:"Year",type:"number"},{value:"monitored",label:"Monitored",type:"boolean"},{value:"title",label:"Title",type:"text"},{value:"quality",label:"Quality",type:"text"}],ir={number:[{value:"bigger",label:">"},{value:"smaller",label:"<"},{value:"equals",label:"="},{value:"not_equals",label:"â‰ "}],text:[{value:"equals",label:"equals"},{value:"not_equals",label:"not equals"},{value:"contains",label:"contains"},{value:"contains_partial",label:"contains (partial)"},{value:"not_contains",label:"doesn't contain"},{value:"not_contains_partial",label:"doesn't contain (partial)"}],date:[{value:"before",label:"before"},{value:"after",label:"after"},{value:"in_last",label:"in last"},{value:"in_next",label:"in next"},{value:"equals",label:"equals"}],boolean:[{value:"equals",label:"is"}]},ar=()=>{const[e,t]=D.useState([]),[s,n]=D.useState(null),[o,i]=D.useState([]),[a,c]=D.useState(!0),y=async()=>{try{const u=await T.get("/api/suggestion/rules");t(u.data)}catch(u){console.error("Error loading rules:",u)}finally{c(!1)}};D.useEffect(()=>{y()},[]);const g=u=>{n(u);try{const m=JSON.parse(u.conditionsJson);i(m)}catch{i([])}},d=()=>{n({id:0,name:"",description:"",enabled:!0,applyToMovies:!0,applyToSeries:!0,conditionsJson:"[]",isCustom:!0}),i([{field:"lastWatched",operator:"before",value:"180",valueType:"customDays",logicalOperator:null}])},j=()=>{n(null),i([])},w=async()=>{if(!s)return;const u={...s,conditionsJson:JSON.stringify(o)};try{s.id===0?await T.post("/api/suggestion/rules",u):await T.put(`/api/suggestion/rules/${s.id}`,u),await y(),j(),alert("Rule saved! Suggestions will be regenerated.")}catch(m){console.error("Error saving rule:",m),alert("Error saving rule")}},C=async u=>{if(confirm("Are you sure you want to delete this rule?"))try{await T.delete(`/api/suggestion/rules/${u}`),await y()}catch(m){console.error("Error deleting rule:",m),alert("Error deleting rule")}},p=async u=>{try{await T.put(`/api/suggestion/rules/${u.id}`,{...u,enabled:!u.enabled}),await y()}catch(m){console.error("Error toggling rule:",m)}},f=()=>{const u={field:"lastWatched",operator:"before",value:"30",valueType:"customDays",logicalOperator:o.length>0?"AND":null};if(o.length>0){const m=[...o];m[m.length-1].logicalOperator="AND",i([...m,u])}else i([u])},b=u=>{const m=o.filter((N,h)=>h!==u);m.length>0&&(m[m.length-1].logicalOperator=null),i(m)},S=(u,m)=>{const N=[...o];if(N[u]={...N[u],...m},m.operator){const h=ke.find(O=>O.value===N[u].field);(h==null?void 0:h.type)==="date"&&["in_last","in_next","before","after"].includes(m.operator)?N[u].valueType="customDays":(h==null?void 0:h.type)==="number"?N[u].valueType="customNumber":(h==null?void 0:h.type)==="boolean"?N[u].valueType="boolean":(h==null?void 0:h.type)==="text"&&(N[u].valueType="customText")}i(N)},P=u=>{var m;return((m=ke.find(N=>N.value===u))==null?void 0:m.type)||"text"};return a?r.jsxs("div",{className:"page-container",children:[r.jsx("div",{className:"page-header",children:r.jsx("h1",{children:"Suggestion Rules"})}),r.jsx("div",{children:"Loading rules..."})]}):r.jsxs("div",{className:"page-container",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"Suggestion Rules"}),r.jsxs("button",{className:"btn btn-primary",onClick:d,children:[r.jsx(A,{icon:Ke})," New Rule"]})]}),r.jsx("p",{style:{color:"#888",marginBottom:"30px"},children:"Configure custom rules to automatically suggest media for deletion. Combine multiple conditions with AND/OR logic."}),s&&r.jsxs("div",{className:"rule-editor",children:[r.jsx("h2",{children:s.id===0?"New Rule":`Edit: ${s.name}`}),r.jsxs("div",{className:"rule-editor-form",children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("label",{children:["Name:",r.jsx("input",{type:"text",value:s.name,onChange:u=>n({...s,name:u.target.value}),placeholder:"e.g., Old Unwatched Movies"})]}),r.jsxs("label",{children:["Description:",r.jsx("input",{type:"text",value:s.description,onChange:u=>n({...s,description:u.target.value}),placeholder:"e.g., Movies not watched in 6 months"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("label",{children:[r.jsx("input",{type:"checkbox",checked:s.enabled,onChange:u=>n({...s,enabled:u.target.checked})})," ","Enabled"]}),r.jsxs("label",{children:[r.jsx("input",{type:"checkbox",checked:s.applyToMovies,onChange:u=>n({...s,applyToMovies:u.target.checked})})," ","Apply to Movies"]}),r.jsxs("label",{children:[r.jsx("input",{type:"checkbox",checked:s.applyToSeries,onChange:u=>n({...s,applyToSeries:u.target.checked})})," ","Apply to Series"]})]}),r.jsxs("div",{className:"conditions-section",children:[r.jsx("h3",{children:"Conditions:"}),o.map((u,m)=>{var N;return r.jsxs("div",{children:[r.jsxs("div",{className:"condition-row",children:[r.jsx("select",{value:u.field,onChange:h=>S(m,{field:h.target.value}),children:ke.map(h=>r.jsx("option",{value:h.value,children:h.label},h.value))}),r.jsx("select",{value:u.operator,onChange:h=>S(m,{operator:h.target.value}),children:(N=ir[P(u.field)])==null?void 0:N.map(h=>r.jsx("option",{value:h.value,children:h.label},h.value))}),u.valueType==="boolean"?r.jsxs("select",{value:u.value,onChange:h=>S(m,{value:h.target.value}),children:[r.jsx("option",{value:"true",children:"Yes"}),r.jsx("option",{value:"false",children:"No"})]}):r.jsx("input",{type:u.valueType==="customNumber"?"number":"text",value:u.value,onChange:h=>S(m,{value:h.target.value}),placeholder:u.valueType==="customDays"?"days":"value"}),u.valueType==="customDays"&&r.jsx("span",{className:"unit-label",children:"days"}),r.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>b(m),disabled:o.length===1,children:r.jsx(A,{icon:ee})})]}),m<o.length-1&&r.jsx("div",{className:"logical-operator",children:r.jsxs("select",{value:u.logicalOperator||"AND",onChange:h=>S(m,{logicalOperator:h.target.value}),children:[r.jsx("option",{value:"AND",children:"AND"}),r.jsx("option",{value:"OR",children:"OR"})]})})]},m)}),o.length<5&&r.jsxs("button",{className:"btn btn-secondary",onClick:f,children:[r.jsx(A,{icon:Ke})," Add Condition"]})]}),r.jsxs("div",{className:"rule-editor-actions",children:[r.jsxs("button",{className:"btn btn-primary",onClick:w,children:[r.jsx(A,{icon:St})," Save Rule"]}),r.jsx("button",{className:"btn btn-secondary",onClick:j,children:"Cancel"})]})]})]}),r.jsx("div",{className:"rules-list",children:e.map(u=>r.jsxs("div",{className:"rule-card",children:[r.jsxs("div",{className:"rule-header",children:[r.jsxs("label",{className:"rule-toggle",children:[r.jsx("input",{type:"checkbox",checked:u.enabled,onChange:()=>p(u)}),r.jsx("span",{className:"rule-name",children:u.name}),!u.isCustom&&r.jsx("span",{className:"badge badge-secondary",children:"Default"})]}),r.jsxs("div",{className:"rule-actions",children:[r.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>g(u),children:"Edit"}),u.isCustom&&r.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>C(u.id),children:r.jsx(A,{icon:ee})})]})]}),r.jsx("div",{className:"rule-description",children:u.description}),r.jsxs("div",{className:"rule-meta",children:[r.jsx("span",{children:u.applyToMovies?"ðŸŽ¬ Movies":""}),r.jsx("span",{children:u.applyToSeries?"ðŸ“º Series":""})]})]},u.id))})]})},lr=()=>{const[e,t]=D.useState({RadarrUrl:"",RadarrApiKey:"",SonarrUrl:"",SonarrApiKey:"",TautulliUrl:"",TautulliApiKey:"",OverseerrUrl:"",OverseerrApiKey:"",CronSchedule:"0 */6 * * *"}),[s,n]=D.useState(null),[o,i]=D.useState({radarr:"idle",sonarr:"idle",tautulli:"idle",overseerr:"idle"}),[a,c]=D.useState(null);D.useEffect(()=>{y(),g()},[]);const y=async()=>{try{const f=await T.get("/api/settings");t(f.data)}catch(f){console.error("Error loading settings:",f)}},g=async()=>{try{const f=await T.get("/api/settings/version");n(f.data)}catch(f){console.error("Error loading version:",f)}},d=(f,b)=>{t({...e,[f]:b})},j=async()=>{try{await T.post("/api/settings",e),C("Settings saved successfully","success")}catch{C("Error saving settings","error")}},w=async f=>{var b,S;i({...o,[f]:"testing"});try{await T.post(`/api/settings/test/${f}`),i({...o,[f]:"success"}),setTimeout(()=>{i({...o,[f]:"idle"})},3e3)}catch(P){i({...o,[f]:"error"}),C(((S=(b=P.response)==null?void 0:b.data)==null?void 0:S.message)||`Failed to connect to ${f}`,"error"),setTimeout(()=>{i({...o,[f]:"idle"})},3e3)}},C=(f,b)=>{c({message:f,type:b}),setTimeout(()=>c(null),3e3)},p=(f,b)=>{const S=o[f];return r.jsxs("div",{className:"test-connection",children:[r.jsx("button",{className:"btn btn-primary",onClick:()=>w(f),disabled:S==="testing",children:S==="testing"?"Testing...":`Test ${b}`}),S==="success"&&r.jsxs("span",{className:"test-status success",children:[r.jsx(A,{icon:mt})," Connected"]}),S==="error"&&r.jsxs("span",{className:"test-status error",children:[r.jsx(A,{icon:Ue})," Failed"]})]})};return r.jsxs("div",{children:[r.jsx("div",{className:"page-header",children:r.jsx("h1",{className:"page-title",children:"Settings"})}),r.jsxs("div",{className:"settings-form",children:[r.jsx("h2",{children:"Radarr"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"URL"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"http://localhost:7878",value:e.RadarrUrl,onChange:f=>d("RadarrUrl",f.target.value)})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"API Key"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"Your Radarr API Key",value:e.RadarrApiKey,onChange:f=>d("RadarrApiKey",f.target.value)}),p("radarr","Radarr")]}),r.jsx("h2",{style:{marginTop:"30px"},children:"Sonarr"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"URL"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"http://localhost:8989",value:e.SonarrUrl,onChange:f=>d("SonarrUrl",f.target.value)})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"API Key"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"Your Sonarr API Key",value:e.SonarrApiKey,onChange:f=>d("SonarrApiKey",f.target.value)}),p("sonarr","Sonarr")]}),r.jsx("h2",{style:{marginTop:"30px"},children:"Tautulli"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"URL"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"http://localhost:8181",value:e.TautulliUrl,onChange:f=>d("TautulliUrl",f.target.value)})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"API Key"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"Your Tautulli API Key",value:e.TautulliApiKey,onChange:f=>d("TautulliApiKey",f.target.value)}),p("tautulli","Tautulli")]}),r.jsx("h2",{style:{marginTop:"30px"},children:"Overseerr"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"URL"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"http://localhost:5055",value:e.OverseerrUrl,onChange:f=>d("OverseerrUrl",f.target.value)})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"API Key"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"Your Overseerr API Key",value:e.OverseerrApiKey,onChange:f=>d("OverseerrApiKey",f.target.value)}),p("overseerr","Overseerr")]}),r.jsx("h2",{style:{marginTop:"30px"},children:"Sync Schedule"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Cron Expression"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"0 */6 * * *",value:e.CronSchedule,onChange:f=>d("CronSchedule",f.target.value)}),r.jsx("small",{style:{color:"#888",display:"block",marginTop:"5px"},children:"Default: 0 */6 * * * (every 6 hours). Format: minute hour day month weekday"})]}),r.jsx("div",{className:"form-actions",children:r.jsxs("button",{className:"btn btn-success",onClick:j,children:[r.jsx(A,{icon:St})," Save Settings"]})}),r.jsxs("div",{style:{marginTop:"40px",paddingTop:"20px",borderTop:"1px solid #333",color:"#888",fontSize:"0.9em",display:s?"block":"none"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Version:"})," ",(s==null?void 0:s.version)||"unknown"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Build Date:"})," ",(s==null?void 0:s.buildDate)||"unknown"]})]})]}),a&&r.jsx("div",{className:`notification ${a.type}`,children:a.message})]})};function cr(){return r.jsx(Xt,{children:r.jsx(us,{children:r.jsxs(Zt,{children:[r.jsx(oe,{path:"/",element:r.jsx(Qt,{to:"/movies",replace:!0})}),r.jsx(oe,{path:"/movies",element:r.jsx(rr,{})}),r.jsx(oe,{path:"/series",element:r.jsx(or,{})}),r.jsx(oe,{path:"/suggestions",element:r.jsx(ar,{})}),r.jsx(oe,{path:"/settings",element:r.jsx(lr,{})})]})})})}const dr=ds.createRoot(document.getElementById("root"));dr.render(r.jsx(D.StrictMode,{children:r.jsx(cr,{})}));
